{% extends "base_generic.html" %}

{% block content %}
    <div class="max-w-md mx-auto">
        {% if validlink %}
            <p class="mb-4">Please enter (and confirm) your new password.</p>
            <form action="" method="post">
                {% csrf_token %}
                <table class="mb-4">
                    <tr>
                        <td>{{ form.new_password1.errors }}
                            <label for="id_new_password1">New password:</label></td>
                        <td>{{ form.new_password1 }}</td>
                    </tr>
                    <tr>
                        <td>{{ form.new_password2.errors }}
                            <label for="id_new_password2">Confirm password:</label></td>
                        <td>{{ form.new_password2 }}</td>
                    </tr>
                    <tr>
                        <td></td>
                        <td><input type="submit" value="Change my password" class="bg-blue-500 hover:bg-blue-700 text-white font-semibold py-2 px-4 rounded"></td>
                    </tr>
                </table>
            </form>
        {% else %}
            <h1 class="text-3xl font-bold mb-4">Password reset failed</h1>
            <p class="mb-4">The password reset link was invalid, possibly because it has already been used. Please request a new password reset.</p>
        {% endif %}
    </div>
{% endblock %}
